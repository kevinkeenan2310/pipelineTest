AWSTemplateFormatVersion: '2010-09-09'
Transform: AWS::Serverless-2016-10-31
Description: Sample Lambda function
Resources:
  SkeletalLambda:
    Type: AWS::Serverless::Function
    Properties:
      Handler: ERPSalesForceIntegration::ERPSalesForceIntegration.ExtractTransformLoadErpObjects::SkeletalLambda
      FunctionName: SkeletalLambda
      Runtime: dotnet6
      CodeUri: SkeletalLambda
      Description: A simple function that takes a string and does a ToUpper
      MemorySize: 128
      Timeout: 3
    Metadata:
      SamResourceId: SkeletalLambda
  SkeletalLambda2:
    Type: AWS::Serverless::Function
    Properties:
      Handler: ERPSalesForceIntegration::ERPSalesForceIntegration.ExtractTransformLoadErpObjects::SkeletalLambda2
      FunctionName: SkeletalLambda2
      Runtime: dotnet6
      CodeUri: SkeletalLambda2
      Description: this is a secondary test function
      MemorySize: 128
      Timeout: 3
    Metadata:
      SamResourceId: SkeletalLambda2
  MySampleStateMachine:
    Type: AWS::Serverless::StateMachine
    Properties:
      Definition:
        StartAt: MyLambdaState
        States:
          MyLambdaState:
            Type: Task
            Resource:
              Fn::GetAtt:
              - SkeletalLambda
              - Arn
            End: true
      Events:
        CWSchedule:
          Type: ScheduleV2
          Properties:
            Schedule: rate(25 minute)
            Name: TestScheduleV2StateMachine
            Description: Test schedule event
      Role: arn:aws:iam::674032521146:role/service-role/codebuild-pipelineBuildProj-service-role
